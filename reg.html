<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="regstyles.css">
    <title>Registration Page</title>
</head>
<body>
    <div class="container">
        <form id="registrationForm" method="post">
            <div class="center-text">
                <h2>Register</h2>
            </div>
            
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" required>
            
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>

            <label for="confirm-password">Confirm Password</label>
            <input type="password" id="confirm-password" name="confirm-password" required>

            <label for="dob">Date of Birth:</label>
            <input type="date" id="dob" name="dob" required>

            <label>Gender:</label>
            <div class="input-group">
                <label for="male">Male</label>
                <input type="radio" id="male" name="gender" value="male">
                <label for="female">Female</label>
                <input type="radio" id="female" name="gender" value="female">
                <label for="other">Other</label>
                <input type="radio" id="other" name="gender" value="other">
            </div>


            <label for="address">Address:</label>
            <textarea id="address" name="address" rows="4" required></textarea>

            <label for="phoneNumber">Phone Number:</label>
            <input type="tel" id="phoneNumber" name="phoneNumber" pattern="[0-9]{10}" required>

            <label for="country">Country:</label>
            <select id="country" name="country" required>
                <option value="" disabled selected>Select Country</option>
                <option value="Australia">Australia</option>
                <option value="Brazil">Brazil</option>
                <option value="Canada">Canada</option>
                <option value="Germany">Germany</option>
                <option value="India">India</option>
                <option value="Japan">Japan</option>
            </select>

            <label for="state">State:</label>
            <select id="state" name="state" required>
                <option value="" disabled selected>Select State</option>
                <option value="TN">Tamil Nadu</option>
                <option value="KA">Karnataka</option>
                <option value="MH">Maharashtra</option>
                <option value="KL">Kerala</option>
                <option value="WB">West Bengal</option>
            </select><br>


            <label>Favorite Cuisine:</label>
            <div class="input-group">
                <label for="indian">Indian</label><input type="checkbox" id="indian" name="cuisine" value="indian">
                <label for="chinese">Chinese</label><input type="checkbox" id="chinese" name="cuisine" value="chinese">
                <label for="italian">Italian</label><input type="checkbox" id="italian" name="cuisine" value="italian">
                <label for="japanese">Japanese</label><input type="checkbox" id="japanese" name="cuisine" value="japanese"> 
                <label for="thai">Thai</label><input type="checkbox" id="thai" name="cuisine" value="thai">
            </div>

            <button type="button" onclick="validateAndSubmit()">Register</button>
            <p>Already have an account?<a href="login.html">Login</a></p>
        </form>
    </div>

    <script>
        function validateAndSubmit() {
            let pass=document.getElementById("password").value;
            let username=document.getElementById("username").value;
            let confirmpass=document.getElementById("confirm-password").value;
            let phno=document.getElementById("phoneNumber").value;
            let email=document.getElementById("email").value;
            let emailpattern=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            let checkboxes=document.querySelectorAll('input[name="cuisine"]:checked');
            let ischecked=false;
            if(pass==""||username==""||confirmpass==""||phno==""||email==""){
                alert("All the fields must be filled");
                return false;
            }
            if(!emailpattern.test(email)){
                alert("Please include @ in the email address"`${email}`"missing @");
                return false;
            }
            if(pass== ""){
            alert("Password must not be empty");
            return false;
            }
            if(pass.length<8){
            alert("Password length must be 8 characters");
            return false;
            }
            if(pass.search(/[0-9]/)== -1){
            alert("Password must contain atleast one number");
            return false;
            }
            if(pass.search(/[A-Z]/)== -1){
            alert("Password must contain atleast one uppercase character");
            return false;
            }
            if(/\d/.test(username))
            {
                alert("Username mustnot contain numbers");
                return false;
            }
            if(pass !== confirmpass)
            {
                alert("passwords donot match");
                return false;
            }
            if(phno.length != 10)
            {
                alert("phone number must exactly contain 10 char");
                return false;
            }
            checkboxes.forEach(function(checkbox){
                if(checkbox.checked){
                    ischecked=true;
                }
            });
            if(!ischecked){
                alert("Please select atleast one cuisine");
                return false;
            }
            // If everything is valid, redirect to done.html
            window.location.href = "done.html";
        }
    </script>

</body>
</html>